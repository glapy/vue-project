(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9a6f6914"],{2211:function(t,e,r){},b5ea:function(t,e,r){"use strict";r("2211")},f7cca:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"order"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.orders,stripe:""}},[r("el-table-column",{attrs:{width:"30"}}),r("el-table-column",{attrs:{prop:"commodityId",label:"商品ID",width:"80"}}),r("el-table-column",{attrs:{prop:"commodityName",label:"商品名称",width:"200"}}),r("el-table-column",{attrs:{prop:"quantity",label:"数量",width:"80"}}),r("el-table-column",{attrs:{prop:"amount",label:"总价",width:"100"}}),r("el-table-column",{attrs:{prop:"creatTime",label:"订单开始时间",width:"200"}}),r("el-table-column",{attrs:{prop:"endTime",label:"订单结束时间",width:"200"}}),r("el-table-column",{attrs:{prop:"status",label:"标签",width:"140",filters:[{text:"待发货",value:2},{text:"已收货",value:4},{text:"退货待审核",value:5},{text:"已完成",value:8}],"filter-method":t.filterTag,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-tag",{attrs:{type:8===e.row.status?"success":"primary","disable-transitions":""}},[t._v(t._s(t._f("formatStatus")(e.row.status)))])]}}])}),r("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.determineType(e.row.status,"发货")?r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return t.handleSend(e.row)}}},[t._v("发货")]):t._e(),t.determineType(e.row.status,"退货")?r("el-button",{attrs:{size:"mini"},on:{click:function(r){return t.handleAgreeReturn(e.row)}}},[t._v("退货")]):t._e(),t.determineType(e.row.status,"拒绝退货")?r("el-button",{attrs:{size:"mini"},on:{click:function(r){return t.handleNotAgreeReturn(e.row)}}},[t._v("拒绝退货")]):t._e()]}}])})],1)],1)},n=[],s=(r("8e6e"),r("ac6a"),r("456d"),r("ade3")),o=r("2f62");function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u={name:"SellOrder",data:function(){return{orders:[]}},created:function(){var t=this;this.axios.get("/order/shop/"+this.sell.id,{params:{page:1}}).then((function(e){200==e.status&&(t.orders=e.data.data.records)}))},computed:i({},Object(o["e"])("user",["sell"])),methods:{filterTag:function(t,e){return e.status===t},handleSend:function(t){var e=this;this.$confirm("确认发货?").then((function(){t.status=3,e.axios.post("/order/update",t).then((function(t){0==t.data.code?e.$message({type:"success",message:"发货成功！"}):e.$message(t.data.msg)})).catch((function(){}))})).catch((function(){}))},handleAgreeReturn:function(t){var e=this;this.$confirm("确认同意退货?").then((function(){t.status=6,e.axios.post("/order/update",t).then((function(t){0==t.data.code?e.$message({type:"success",message:"退货成功！"}):e.$message(t.data.msg)})).catch((function(){}))})).catch((function(){}))},handleNotAgreeReturn:function(t){var e=this;this.$confirm("确认拒绝退货?").then((function(){t.status=7,e.axios.post("/order/update",t).then((function(t){0==t.data.code?e.$message({type:"success",message:"拒绝退货成功！"}):e.$message(t.data.msg)})).catch((function(){}))})).catch((function(){}))},determineType:function(t,e){if("发货"==e){if(2==t)return!0}else if("退货"==e){if(5==t)return!0}else if(5==t)return!0;return!1}},filters:{formatStatus:function(t){var e="";switch(t){case 2:e="待发货";break;case 3:e="运输中";break;case 4:e="已收货";break;case 5:e="退货待审核";break;case 6:e="已退货";break;case 7:e="拒绝退货";break;case 8:e="已完成";break}return e}}},l=u,d=(r("b5ea"),r("2877")),f=Object(d["a"])(l,a,n,!1,null,"22de41ce",null);e["default"]=f.exports}}]);