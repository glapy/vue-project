(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b2731d1"],{"0e77":function(e,t,r){"use strict";r("a5d1")},2241:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"Logo"},[r("router-link",{attrs:{to:"/"}})],1)},o=[],s={name:"Logo",components:{}},i=s,l=(r("0e77"),r("2877")),n=Object(l["a"])(i,a,o,!1,null,"ad3934a0",null);t["a"]=n.exports},"3f28":function(e,t,r){"use strict";r("e0c6")},a238:function(e,t,r){"use strict";r("cb49")},a5d1:function(e,t,r){},c77a:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register"},[r("div",[r("Navigation"),r("div",{staticClass:"row"},[r("Logo"),r("p",[e._v("用户注册页面")])],1)],1),r("div",{staticClass:"content"},[r("div",{staticClass:"toMerchantRegister"},[r("router-link",{attrs:{to:"/sellRegister"}},[e._v("前往商家注册页面...")])],1),r("el-form",{ref:"form",staticClass:"demo-form",attrs:{model:e.form,"status-icon":"",rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"name"}},[r("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:" 请输入用户名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:" 请输入密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:" 请输入确认密码"},model:{value:e.form.checkPass,callback:function(t){e.$set(e.form,"checkPass",t)},expression:"form.checkPass"}})],1),r("el-form-item",{attrs:{label:"电话",prop:"phone"}},[r("el-input",{attrs:{type:"tel",autocomplete:"off",placeholder:" 请输入11位电话号码"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{attrs:{type:"email",autocomplete:"off",placeholder:" 请输入邮箱"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),r("el-form-item",{attrs:{label:"城市",prop:"city"}},[r("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:" 请输入所在城市"},model:{value:e.form.city,callback:function(t){e.$set(e.form,"city",t)},expression:"form.city"}})],1),r("el-form-item",{attrs:{label:"银行卡号",prop:"card"}},[r("el-input",{attrs:{type:"tel",autocomplete:"off",placeholder:" 请输入16位卡号"},model:{value:e.form.card,callback:function(t){e.$set(e.form,"card",t)},expression:"form.card"}})],1),r("el-form-item",{staticClass:"sex",attrs:{label:"性别",prop:"sex"}},[r("el-radio-group",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[r("el-radio",{attrs:{label:"0"}},[e._v("男")]),r("el-radio",{attrs:{label:"1"}},[e._v("女")])],1)],1),r("el-form-item",{attrs:{label:"验证码",prop:"imageValid"}},[r("el-input",{attrs:{type:"text",placeholder:" 请输入验证码"},model:{value:e.form.imageValid,callback:function(t){e.$set(e.form,"imageValid",t)},expression:"form.imageValid"}}),r("canvas",{ref:"canvas",attrs:{id:"canvas",width:"120",height:"40"},on:{click:function(t){return e.updateCanvas()}}})],1),r("el-form-item",[r("el-button",{staticClass:"submit",on:{click:function(t){return e.register("form")}}},[e._v("提交")]),r("el-button",{staticClass:"reset",on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)])},o=[],s=(r("a481"),r("f4dd")),i=r("2241"),l={components:{Navigation:s["a"],Logo:i["a"]},name:"UserRegister",data:function(){var e=this,t=function(t,r,a){""===r?a(new Error("请输入密码")):(""!==e.form.checkPass&&e.$refs.form.validateField("checkPass"),a())},r=function(t,r,a){""===r?a(new Error("请再次输入密码")):r!==e.form.password?a(new Error("两次输入密码不一致!")):a()},a=function(t,r,a){""===r?a(new Error("验证码不能为空")):r!==e.num?(e.updateCanvas(),a(new Error("验证码输入有误"))):a()};return{form:{name:"",password:"",checkPass:"",phone:"",email:"",city:"",sex:"0",card:"",imageValid:""},num:"",rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{validator:t,trigger:"blur"}],checkPass:[{validator:r,trigger:"blur"}],phone:[{required:!0,message:"请输入电话",trigger:"blur"},{min:11,max:11,message:"电话号码格式不正确",trigger:"blur"}],imageValid:[{validator:a,trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"}],city:[{required:!0,message:"请输入城市地址",trigger:"blur"}],card:[{required:!0,message:"请输入银行卡号",trigger:"blur"},{min:16,max:16,message:"银行卡号格式不正确",trigger:"blur"}]}}},methods:{resetForm:function(e){this.$refs[e].resetFields()},register:function(e){var t=this;this.$refs[e].validate((function(e){e&&t.axios.post("/user/register",t.form).then((function(e){0===e.data.code?(t.$message({message:"注册成功！",type:"success"}),t.resetForm("form"),t.$router.replace("/login")):(t.resetForm("form"),t.$message("该用户名已被注册！"))})).catch((function(e){alert(e.message)}))}))},getColor:function(){var e=Math.floor(256*Math.random()),t=Math.floor(256*Math.random()),r=Math.floor(256*Math.random());return"rgb("+e+","+t+","+r+")"},draw:function(){var e=this.$refs.canvas.getContext("2d");e.strokeRect(0,0,120,40);for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r=[],a=0;a<4;a++){var o=20+20*a,s=20+10*Math.random(),i=Math.floor(Math.random()*t.length),l=t[i];e.font="bold 20px 微软雅黑",e.fillStyle=this.getColor,e.translate(o,s);var n=90*Math.random()*Math.PI/180;e.rotate(n),e.fillText(l,0,0),e.rotate(-n),e.translate(-o,-s),r[a]=l}this.num=r[0]+r[1]+r[2]+r[3];for(var c=0;c<8;c++)e.beginPath(),e.moveTo(120*Math.random(),40*Math.random()),e.lineTo(120*Math.random(),40*Math.random()),e.strokeStyle=this.getColor(),e.stroke();for(var m=0;m<20;m++){e.beginPath();var u=120*Math.random(),f=40*Math.random();e.moveTo(u,f),e.lineTo(u+1,f+1),e.strokeStyle=this.getColor(),e.stroke()}},updateCanvas:function(){var e=this.$refs.canvas.getContext("2d");e.clearRect(0,0,120,40),this.draw(),console.log(this.num)}},mounted:function(){this.draw()}},n=l,c=(r("a238"),r("2877")),m=Object(c["a"])(n,a,o,!1,null,"64cd28c0",null);t["default"]=m.exports},cb49:function(e,t,r){},e0c6:function(e,t,r){},f4dd:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"navigation"},[r("ul",{staticStyle:{"list-style":"none"}},[e._m(0),e.user?r("li",{staticClass:"exit"},[r("span",{staticClass:"loginSpan"},[e._v("欢迎您，"+e._s(e.user.name)+"！"),r("a",{attrs:{href:"javascript:;"},on:{click:e.exit}},[e._v("退出登录")])])]):r("li",{staticClass:"login"},[r("span",{staticClass:"loginSpan"},[r("router-link",{staticClass:"loginlink",attrs:{to:"/login"}},[e._v("你好，请登录！ ")]),r("router-link",{staticClass:"loginlink",attrs:{to:"/register"}},[r("span",[e._v("免费注册")])])],1)]),r("li",{staticClass:"cart"},[r("router-link",{attrs:{to:"/cart"}},[r("span",[e._v(" 购物车"),r("i",{staticClass:"el-icon-shopping-cart-full"})])])],1),r("li",{staticClass:"mydingdan"},[r("router-link",{attrs:{to:"/order"}},[e._v("我的订单"),r("i",{staticClass:"el-icon-tickets"})])],1),r("li",{staticClass:"myqianbao"},[r("router-link",{attrs:{to:"/account"}},[e._v("我的钱包"),r("i",{staticClass:"el-icon-s-finance"})])],1)])])},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",{staticStyle:{float:"left","margin-left":"-100px"}},[r("a",[r("i",{staticClass:"el-icon-location-outline"}),r("span",[e._v("佛山市")])])])}],s=(r("8e6e"),r("ac6a"),r("456d"),r("ade3")),i=r("2f62");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c={name:"Navigation",computed:n({},Object(i["e"])("user",{user:"user"})),methods:n({exit:function(){this.deleteUser(),sessionStorage.removeItem("user")}},Object(i["d"])("user",["deleteUser"]))},m=c,u=(r("3f28"),r("2877")),f=Object(u["a"])(m,a,o,!1,null,"a074e870",null);t["a"]=f.exports}}]);