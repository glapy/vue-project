(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-371336c5"],{"032f":function(t,e,s){t.exports=s.p+"img/6-6.259381e9.jpg"},"056c":function(t,e,s){t.exports=s.p+"img/8-15.d841e1c9.jpg"},"0848":function(t,e,s){},"0b46":function(t,e,s){t.exports=s.p+"img/8-6.229a704f.jpg"},"0e9d":function(t,e,s){"use strict";s("cb47")},"115d":function(t,e,s){t.exports=s.p+"img/6-8.0e0b9e5d.jpg"},"18d2":function(t,e,s){t.exports=s.p+"img/8-16.3d93536c.jpg"},1986:function(t,e,s){t.exports=s.p+"img/1-8.4695f952.jpg"},"1d53":function(t,e,s){t.exports=s.p+"img/8-5.d8bb1cd1.jpg"},"1f07":function(t,e,s){t.exports=s.p+"img/8-21.83d76e19.jpg"},"26f0":function(t,e,s){t.exports=s.p+"img/8-25.b82992c8.jpg"},"27aa":function(t,e,s){"use strict";s("0848")},"287b":function(t,e,s){t.exports=s.p+"img/1-3.173dd9e1.jpg"},"2ffb":function(t,e,s){t.exports=s.p+"img/e0feb153-e0f6-43d9-9668-576318419e0c.4d510f78.jpg"},3221:function(t,e,s){t.exports=s.p+"img/3-11.dc91018b.jpg"},"34f8":function(t,e,s){t.exports=s.p+"img/3-3.9e99d69d.jpg"},"3bc9":function(t,e,s){t.exports=s.p+"img/8-3.1e60b42d.jpg"},"3c61":function(t,e,s){t.exports=s.p+"img/assetsdd9987cc-8832-45f2-821b-0dee47ea1780.dff31213.jpg"},"3e33":function(t,e,s){t.exports=s.p+"img/4-9.430cd156.jpg"},"3f7a":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-dialog",{attrs:{title:t.addFlag?"添加上架商品":"修改商品信息",visible:t.dialogVisible,width:"500px","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("el-form",{attrs:{model:t.form,size:"small","label-width":"80px"}},[s("el-form-item",{attrs:{label:"商品名称"}},[s("el-input",{attrs:{placeholder:" 请输入商品名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),s("el-form-item",{attrs:{label:"商品类别"}},[s("el-select",{attrs:{placeholder:"请选择商品类别"},model:{value:t.form.kindId,callback:function(e){t.$set(t.form,"kindId",e)},expression:"form.kindId"}},t._l(t.kinds,(function(t){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),s("el-form-item",{attrs:{label:"商品价格"}},[s("el-input",{attrs:{placeholder:" 请输入商品价格"},model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}})],1),s("el-form-item",{attrs:{label:"商品库存"}},[s("el-input",{attrs:{placeholder:" 请输入商品库存"},model:{value:t.form.inventory,callback:function(e){t.$set(t.form,"inventory",e)},expression:"form.inventory"}})],1),s("el-form-item",{attrs:{label:"优惠活动"}},[s("el-select",{model:{value:t.form.discount,callback:function(e){t.$set(t.form,"discount",e)},expression:"form.discount"}},[s("el-option",{attrs:{label:"原价",value:"1"}}),s("el-option",{attrs:{label:"9折",value:"0.9"}}),s("el-option",{attrs:{label:"8折",value:"0.8"}}),s("el-option",{attrs:{label:"3折",value:"0.3"}})],1)],1),s("el-form-item",{attrs:{label:"是否议价"}},[s("el-switch",{model:{value:t.form.bargain,callback:function(e){t.$set(t.form,"bargain",e)},expression:"form.bargain"}})],1),s("el-form-item",{attrs:{label:"商品介绍"}},[s("el-input",{attrs:{type:"textarea",placeholder:" 请详细描述商品特征"},model:{value:t.form.instruction,callback:function(e){t.$set(t.form,"instruction",e)},expression:"form.instruction"}})],1),s("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:t.action,accept:"image/*","auto-upload":!1,"on-preview":t.handlePreview,"on-remove":t.handleRemove,data:t.u}},[s("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("点击上传")]),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("\n        只能上传jpg/png文件，且不超过500kb\n      ")])],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:t.dialogHide}},[t._v("取消")]),t.addFlag?s("el-button",{attrs:{type:"primary"},on:{click:t.addCommodity}},[t._v("确 定")]):t._e(),t.addFlag?t._e():s("el-button",{attrs:{type:"primary"},on:{click:t.updateCommodity}},[t._v("确 定")])],1)],1)},o=[],a=(s("8e6e"),s("ac6a"),s("456d"),s("ade3")),n=s("2f62");function c(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function r(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?c(Object(s),!0).forEach((function(e){Object(a["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var p={name:"Dialog",props:["form","addFlag","dialogVisible"],created:function(){var t=this;this.axios.get("/kind").then((function(e){200==e.status&&(t.kinds=e.data.data)})).catch((function(e){return t.$message(e.message)}))},computed:r({},Object(n["e"])("user",{sell:"sell"})),data:function(){return{kinds:[],fileList:[],u:{commodityId:0},action:this.HOST+"/commodityPhoto"}},methods:{addCommodity:function(){var t=this;this.form.shopId=this.sell.id,0==this.form.bargain?this.form.bargain=0:1==this.form.bargain&&(this.form.bargain=1),this.axios.post("/commodity",this.form).then((function(e){0==e.data.code?(t.u.commodityId=e.data.data,t.$refs.upload.submit(),t.dialogHide(),t.$message("添加成功")):t.$message("添加失败！")})).catch((function(t){return alert(t)}))},updateCommodity:function(){var t=this;this.$confirm("确认修改？").then((function(){0==t.form.bargain?t.form.bargain=0:1==t.form.bargain&&(t.form.bargain=1),t.axios.post("/commodity/update",t.form).then((function(e){0==e.data.code&&(t.$emit("update",t.form),t.dialogHide(),t.$router.go(0),t.$message({message:"修改成功",type:"success"}))}))})).catch((function(){}))},dialogHide:function(){this.$emit("dialogHide")},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)},handleClose:function(){var t=this;this.$confirm("确认关闭？").then((function(){t.dialogHide()})).catch((function(){}))}}},d=p,g=s("2877"),f=Object(g["a"])(d,i,o,!1,null,null,null);e["a"]=f.exports},"43da":function(t,e,s){t.exports=s.p+"img/1-1.a3684386.jpg"},4410:function(t,e,s){t.exports=s.p+"img/7-8.8d6180ee.jpg"},"44b4":function(t,e,s){t.exports=s.p+"img/8-12.8e655634.jpg"},"44fb":function(t,e,s){t.exports=s.p+"img/8-24.a6eaa057.jpg"},"4a2d":function(t,e,s){t.exports=s.p+"img/6-3.bc3a502b.jpg"},"4ad9":function(t,e,s){t.exports=s.p+"img/8-23.853dba90.jpg"},"4d2e":function(t,e,s){t.exports=s.p+"img/8-26.6d0fc352.jpg"},"4ef5":function(t,e,s){t.exports=s.p+"img/6-10.3c5f155c.jpg"},"4f82":function(t,e,s){t.exports=s.p+"img/1-7.e0d2030d.jpg"},"53a4":function(t,e,s){var i={"./assets/1-1.jpg":"43da","./assets/1-10.jpg":"dfd8","./assets/1-11.jpg":"71de","./assets/1-2.jpg":"b712","./assets/1-3.jpg":"287b","./assets/1-4.jpg":"8b4e","./assets/1-5.jpg":"eacb","./assets/1-6.jpg":"ff3a","./assets/1-7.jpg":"4f82","./assets/1-8.jpg":"1986","./assets/1-9.jpg":"cdc7","./assets/2-1.jpg":"98e9","./assets/2-10.jpg":"85a6","./assets/2-11.jpg":"de1a","./assets/2-2.jpg":"d4fb","./assets/2-3.jpg":"6741","./assets/2-4.jpg":"cc45","./assets/2-5.jpg":"567e","./assets/2-6.jpg":"e948","./assets/2-7.jpg":"f53b","./assets/2-8.jpg":"7da3","./assets/2-9.jpg":"ee38","./assets/3-1.jpg":"dcb5","./assets/3-10.jpg":"f70b","./assets/3-11.jpg":"3221","./assets/3-2.jpg":"8e04","./assets/3-3.jpg":"34f8","./assets/3-4.jpg":"60b5","./assets/3-5.jpg":"d6d5","./assets/3-6.jpg":"9f42","./assets/3-7.jpg":"7744","./assets/3-8.jpg":"abb3","./assets/3-9.jpg":"c2e5","./assets/4-1.jpg":"b60a","./assets/4-10.jpg":"d8c0","./assets/4-2.jpg":"d9ed","./assets/4-3.jpg":"8569","./assets/4-4.jpg":"61673","./assets/4-5.jpg":"87ed","./assets/4-6.jpg":"d9d8","./assets/4-7.jpg":"9451","./assets/4-8.jpg":"72e1","./assets/4-9.jpg":"3e33","./assets/41be8e5a-e18b-47e5-bfa5-2de4f7f60a80.jpg":"d3f0","./assets/6-1.jpg":"97a8","./assets/6-10.jpg":"4ef5","./assets/6-11.jpg":"64aa","./assets/6-2.jpg":"dc4a","./assets/6-3.jpg":"4a2d","./assets/6-4.jpg":"9175","./assets/6-5.jpg":"a24c","./assets/6-6.jpg":"032f","./assets/6-7.jpg":"f3fa","./assets/6-8.jpg":"115d","./assets/6-9.jpg":"8346","./assets/7-1.jpg":"6026","./assets/7-10.jpg":"e369","./assets/7-2.jpg":"d5fb","./assets/7-3.jpg":"6b8d","./assets/7-4.jpg":"9a09","./assets/7-5.jpg":"9949","./assets/7-6.jpg":"7e66","./assets/7-7.jpg":"557c","./assets/7-8.jpg":"4410","./assets/7-9.jpg":"cac5","./assets/8-1.jpg":"b842","./assets/8-10.jpg":"87df","./assets/8-11.jpg":"840b","./assets/8-12.jpg":"44b4","./assets/8-13.jpg":"f9ed","./assets/8-14.jpg":"e85f","./assets/8-15.jpg":"056c","./assets/8-16.jpg":"18d2","./assets/8-17.jpg":"d868","./assets/8-18.jpg":"d270","./assets/8-19.jpg":"fe6c","./assets/8-2.jpg":"6ded","./assets/8-20.jpg":"a32e","./assets/8-21.jpg":"1f07","./assets/8-22.jpg":"87c5","./assets/8-23.jpg":"4ad9","./assets/8-24.jpg":"44fb","./assets/8-25.jpg":"26f0","./assets/8-26.jpg":"4d2e","./assets/8-27.jpg":"b405","./assets/8-28.jpg":"ff73","./assets/8-3.jpg":"3bc9","./assets/8-4.jpg":"fb91","./assets/8-5.jpg":"1d53","./assets/8-6.jpg":"0b46","./assets/8-7.jpg":"ef32","./assets/8-8.jpg":"b72f","./assets/8-9.jpg":"e5ba","./assets/Logo2.jpg":"8177","./assets/b535db85-f788-4d1b-b633-063155b50be4.jpg":"bd96","./assets/e0feb153-e0f6-43d9-9668-576318419e0c.jpg":"2ffb","./assets/img1.jpg":"5ea3","./assets/img2.jpg":"cdd8","./assets/img3.jpg":"e041","./assets/img4.jpg":"6cb7","./assets/img5.jpg":"8e57","./assetsa0a21820-9a62-4c87-842a-e047801c4b42.jpg":"dbe6","./assetsd505830e-2ef8-4a1d-b578-f31af0714fe3.jpg":"687b","./assetsdd9987cc-8832-45f2-821b-0dee47ea1780.jpg":"3c61"};function o(t){var e=a(t);return s(e)}function a(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}o.keys=function(){return Object.keys(i)},o.resolve=a,t.exports=o,o.id="53a4"},"557c":function(t,e,s){t.exports=s.p+"img/7-7.66e888b4.jpg"},"567e":function(t,e,s){t.exports=s.p+"img/2-5.740b97a1.jpg"},"5ea3":function(t,e,s){t.exports=s.p+"img/img1.e332f419.jpg"},6026:function(t,e,s){t.exports=s.p+"img/7-1.d59b580d.jpg"},"60b5":function(t,e,s){t.exports=s.p+"img/3-4.fe3e4e4f.jpg"},61673:function(t,e,s){t.exports=s.p+"img/4-4.3d362d39.jpg"},"64aa":function(t,e,s){t.exports=s.p+"img/6-11.3f50e507.jpg"},6741:function(t,e,s){t.exports=s.p+"img/2-3.e2350f0d.jpg"},"687b":function(t,e,s){t.exports=s.p+"img/assetsd505830e-2ef8-4a1d-b578-f31af0714fe3.d51fd251.jpg"},"6b8d":function(t,e,s){t.exports=s.p+"img/7-3.3b1c8d6d.jpg"},"6cb7":function(t,e,s){t.exports=s.p+"img/img4.a0680173.jpg"},"6de6":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"commodityList"},[s("ul",t._l(t.list,(function(e){return s("li",{key:e.id,staticClass:"commodity"},[s("CommodityCard",{attrs:{item:e,isNeedMask:t.isNeedMask},on:{updateCommodity:t.updateCommodity,update:t.update}})],1)})),0)])},o=[],a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"commodityCard"},[s("router-link",{attrs:{to:t.sell?"/shop/commodity/"+t.item.id:"/commodity/"+t.item.id}},[s("div",{staticClass:"p-img"},[s("a",[s("img",{attrs:{src:t.img}})])]),s("div",{staticClass:"p-price"},[t._v("\n      "+t._s(t._f("currency")(t.item.price*t.item.discount))),1!=t.item.discount?s("span",[s("i",{staticClass:"price"},[t._v("["+t._s(t._f("currency")(t.item.price))+"]")])]):t._e()]),s("div",{staticClass:"p-name"},[s("h5",[t._v(t._s(t.item.name))])]),s("div",{staticClass:"p-commit"},[s("a",[t._v(t._s(t.item.evaluationCoxunt)+"+")]),s("strong",[t._v("条评论")])]),s("div",{staticClass:"p-shop"},[t._v("商品货号："+t._s(t.item.shopName))]),s("div",{staticClass:"p-degree"},[t._v("商品评分："+t._s(t.item.score))])]),t.isNeedMask?s("div",{staticClass:"mask"},[t.sell?s("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.checkCommodity(t.item.id)}}},[t._v("详情")]):t._e(),t.sell?s("el-button",{attrs:{size:"mini"},on:{click:t.updateCommodity}},[t._v("修改")]):t._e(),t.admin?s("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.auditCommodity("1")}}},[t._v("审核通过")]):t._e(),t.admin?s("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.auditCommodity("2")}}},[t._v("审核失败")]):t._e(),s("el-button",{attrs:{size:"mini"},on:{click:t.deleteCommodity}},[t._v("下架")])],1):t._e()],1)},n=[],c=(s("8e6e"),s("ac6a"),s("456d"),s("ade3")),r=s("2f62");function p(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function d(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?p(Object(s),!0).forEach((function(e){Object(c["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var g={name:"CommodityCard",data:function(){return{img:""}},props:{item:{type:Object,default:function(){}},isNeedMask:{type:Boolean,default:function(){return!1}}},computed:d(d(d({},Object(r["e"])("user",["user"])),Object(r["e"])("user",["sell"])),Object(r["e"])("user",["admin"])),created:function(){this.img=s("53a4")("./assets"+this.item.photoOne)},methods:{deleteCommodity:function(){var t=this;this.$confirm("确认下架吗？").then((function(){t.item.status=3,t.axios.post("/commodity/update",t.item).then((function(e){0==e.data.code&&t.$router.go(0)}))})).catch((function(){}))},checkCommodity:function(t){this.$router.push("/shop/commodity/"+t)},updateCommodity:function(){this.$emit("updateCommodity",this.item)},auditCommodity:function(t){var e=this,s="";s="1"==t?"确认审核通过？":"确认审核不通过？",this.$confirm(s).then((function(){e.item.status=t,e.axios.post("/commodity/update",e.item).then((function(t){0==t.data.code&&(e.$router.go(0),e.$message({type:"success",message:"操作成功！"}))}))})).catch((function(){}))}}},f=g,m=(s("e95f"),s("2877")),u=Object(m["a"])(f,a,n,!1,null,"25bc35ae",null),l=u.exports,j={name:"CommodityList",props:{list:{type:Array,default:function(){return[]}},isNeedMask:{type:Boolean,default:function(){return!1}}},components:{CommodityCard:l},methods:{updateCommodity:function(t){this.$emit("updateCommodity",t)},update:function(t){this.$emit("update",t)}}},b=j,h=(s("0e9d"),Object(m["a"])(b,i,o,!1,null,"8e2ff8e2",null));e["a"]=h.exports},"6ded":function(t,e,s){t.exports=s.p+"img/8-2.bd4683b3.jpg"},"71de":function(t,e,s){t.exports=s.p+"img/1-11.2c703db7.jpg"},"72e1":function(t,e,s){t.exports=s.p+"img/4-8.37e571b8.jpg"},7744:function(t,e,s){t.exports=s.p+"img/3-7.2a16c346.jpg"},"7da3":function(t,e,s){t.exports=s.p+"img/2-8.a53ff9c7.jpg"},"7e66":function(t,e,s){t.exports=s.p+"img/7-6.5ccf63f1.jpg"},8177:function(t,e,s){t.exports=s.p+"img/Logo2.555af18b.jpg"},8346:function(t,e,s){t.exports=s.p+"img/6-9.96c647f9.jpg"},"840b":function(t,e,s){t.exports=s.p+"img/8-11.c4a7cecb.jpg"},8569:function(t,e,s){t.exports=s.p+"img/4-3.f5c9c215.jpg"},"85a6":function(t,e,s){t.exports=s.p+"img/2-10.72cea31f.jpg"},"87c5":function(t,e,s){t.exports=s.p+"img/8-22.d8499602.jpg"},"87df":function(t,e,s){t.exports=s.p+"img/8-10.1234228b.jpg"},"87ed":function(t,e,s){t.exports=s.p+"img/4-5.04643732.jpg"},"8b4e":function(t,e,s){t.exports=s.p+"img/1-4.4d510f78.jpg"},"8e04":function(t,e,s){t.exports=s.p+"img/3-2.dd72bd31.jpg"},"8e57":function(t,e,s){t.exports=s.p+"img/img5.7183ca2b.jpg"},9175:function(t,e,s){t.exports=s.p+"img/6-4.11ea17c3.jpg"},9451:function(t,e,s){t.exports=s.p+"img/4-7.ff77e7c2.jpg"},"97a8":function(t,e,s){t.exports=s.p+"img/6-1.0fd98439.jpg"},"98e9":function(t,e,s){t.exports=s.p+"img/2-1.b5ec1748.jpg"},9949:function(t,e,s){t.exports=s.p+"img/7-5.dff31213.jpg"},"9a09":function(t,e,s){t.exports=s.p+"img/7-4.3d0f4665.jpg"},"9f42":function(t,e,s){t.exports=s.p+"img/3-6.a03922b8.jpg"},a24c:function(t,e,s){t.exports=s.p+"img/6-5.e3ee9a5f.jpg"},a32e:function(t,e,s){t.exports=s.p+"img/8-20.beb35fec.jpg"},a3bb:function(t,e,s){},abb3:function(t,e,s){t.exports=s.p+"img/3-8.05b6d0f5.jpg"},b405:function(t,e,s){t.exports=s.p+"img/8-27.b81beff9.jpg"},b60a:function(t,e,s){t.exports=s.p+"img/4-1.a17263b3.jpg"},b712:function(t,e,s){t.exports=s.p+"img/1-2.488a97b4.jpg"},b72f:function(t,e,s){t.exports=s.p+"img/8-8.ef56f37e.jpg"},b842:function(t,e,s){t.exports=s.p+"img/8-1.f4934b25.jpg"},bd96:function(t,e,s){t.exports=s.p+"img/b535db85-f788-4d1b-b633-063155b50be4.01d9e1ec.jpg"},c2e5:function(t,e,s){t.exports=s.p+"img/3-9.7b58a9b1.jpg"},cac5:function(t,e,s){t.exports=s.p+"img/7-9.57e291a3.jpg"},cb47:function(t,e,s){},cb61:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"commodity"},[t.commodities.length?t._e():s("h3",[t._v("目前没有商品哦！")]),t.commodities.length?s("div",[s("div",{staticClass:"commoidtySort"},[s("div",{staticClass:"sort"},[s("p",[t._v("排序：")]),s("a",{staticClass:"bt curr",attrs:{href:"javascript:;"},on:{click:function(e){return t.handleGetCommodityList(0,"price",0)}}},[s("span",[t._v("综合")]),s("i",{staticClass:"el-icon-d-caret"})]),s("a",{staticClass:"bt",attrs:{href:"javascript:;"},on:{click:function(e){return t.handleGetCommodityList("1","inventory",1)}}},[s("span",[t._v("销量")]),s("i",{staticClass:"el-icon-d-caret"})]),s("a",{staticClass:"bt",attrs:{href:"javascript:;"},on:{click:function(e){return t.handleGetCommodityList("1","evaluation_count",2)}}},[s("span",[t._v("评论数")]),s("i",{staticClass:"el-icon-d-caret"})]),s("a",{staticClass:"bt",attrs:{href:"javascript:;"},on:{click:function(e){return t.handleGetCommodityList("1","price",3)}}},[s("span",[t._v("价格")]),s("i",{staticClass:"el-icon-d-caret"})])]),s("div",{staticClass:"selectPrice"}),s("div",{staticClass:"page"},[s("a",{staticClass:"prev",attrs:{href:"javascript:;"},on:{click:t.prevPage}},[t._v("<")]),s("a",{staticClass:"next",attrs:{href:"javascript:;"},on:{click:t.nextPage}},[t._v(">")])]),s("div",{staticClass:"result-sum"},[t._v("\n        共"),s("span",{staticClass:"sum"},[t._v(t._s(t.total)+"+")]),t._v("件商品\n      ")])])]):t._e(),t.sell?s("commodityList",{attrs:{list:t.commodities,isNeedMask:!0},on:{update:t.update,updateCommodity:t.updateCommodity}}):t._e(),t.sell?s("Dialog",{attrs:{dialogVisible:t.dialogVisible,addFlag:!1,form:t.form},on:{update:t.update,dialogHide:t.dialogHide}}):t._e(),t.sell?t._e():s("commodityList",{attrs:{list:t.commodities}}),s("h1",[t._v(t._s(t.message))]),s("el-pagination",{attrs:{"hide-on-single-page":0==t.commodities.length,"current-page":t.currentPage,"page-sizes":t.pageSizes,"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"prev-click":t.handleCurrentChange,"next-click":t.handleCurrentChange}})],1)},o=[],a=(s("8e6e"),s("ac6a"),s("456d"),s("ade3")),n=s("2f62"),c=s("6de6"),r=s("3f7a");function p(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function d(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?p(Object(s),!0).forEach((function(e){Object(a["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var g={name:"commodity",components:{commodityList:c["a"],Dialog:r["a"]},data:function(){return{commodities:[],message:"",sortType:1,currentPage:1,total:0,pageSize:10,pageSizes:[10],state:{index:-1,key:""},form:{},item:{},dialogVisible:!1}},computed:d({},Object(n["e"])("user",["user","sell"])),created:function(){var t=this.$route.fullPath;-1!=t.indexOf("/home")?this.getCommoditiesByHome():-1!=t.indexOf("/shop")&&this.getCommoditiesByShop(this.sell.id)},beforeRouteEnter:function(t,e,s){s((function(e){if(e.title=t.meta.title,-1!=t.fullPath.indexOf("/searchOrder")){var s=t.query.keyword;e.getCommoditiesBySearch(s)}else-1!=t.path.indexOf("/shop")?e.getCommoditiesByShop(t.params.id):e.getCommoditiesByKind(t.params.id)}))},beforeRouteUpdate:function(t,e,s){if(-1!=t.fullPath.indexOf("/searchOrder")){var i=t.query.keyword;this.getCommoditiesBySearch(i)}else-1!=t.path.indexOf("/shop")?this.getCommoditiesByShop(t.params.id):this.getCommoditiesByKind(t.params.id);s()},methods:{getCommoditiesByHome:function(){var t=this;this.axios.get("/commodity",{params:{page:this.currentPage}}).then((function(e){200==e.status&&(t.commodities=e.data.data.records,t.total=e.data.data.total)}))},getCommoditiesByKind:function(t){var e=this;this.axios.post("/commodity/searchOrder",{kind_id:[t]}).then((function(t){0==t.data.code&&(e.commodities=t.data.data.records,e.total=t.data.data.total)})).catch((function(t){return alert(t)}))},getCommoditiesBySearch:function(t){var e=this;this.axios.post("/commodity/searchOrder",{keyword:[t]}).then((function(t){200==t.status&&(e.commodities=t.data.data.records,e.total=t.data.data.total)})).catch((function(t){return alert(t)}))},getCommoditiesByShop:function(t){var e=this;this.axios.post("/commodity/searchOrder",{shop_id:[t]}).then((function(t){0==t.data.code&&(e.commodities=t.data.data.records,e.total=t.data.data.total)})).catch((function(t){return alert(t)}))},handleSizeChange:function(t){console.log("每页条数："+t)},handleCurrentChange:function(t){this.currentPage=t,-1!=this.state.index?"price"==this.state.key&&0==this.state.index?this.getCommodityList("0",this.state.key,this.state.index):this.getCommodityList("1",this.state.key,this.state.index):this.getCommoditiesByHome()},prevPage:function(){this.currentPage>1&&(this.currentPage--,-1!=this.state.index?"price"==this.state.key&&0==this.state.index?this.getCommodityList("0",this.state.key,this.state.index):this.getCommodityList("1",this.state.key,this.state.index):this.getCommoditiesByHome())},nextPage:function(){this.currentPage<this.total/this.pageSize&&(this.currentPage++,-1!=this.state.index?"price"==this.state.key&&0==this.state.index?this.getCommodityList("0",this.state.key,this.state.index):this.getCommodityList("1",this.state.key,this.state.index):this.getCommoditiesByHome())},handleGetCommodityList:function(t,e,s){this.currentPage=1,this.getCommodityList(t,e,s)},getCommodityList:function(t,e,s){var i=this;this.state.index=s,this.state.key=e,this.changeButtonStyle(s);var o={};o.page=[this.currentPage],-1!=this.$route.fullPath.indexOf("/searchOrder")?o.keyword=[this.$route.query.keyword]:-1!=this.$route.path.indexOf("/kind")?o.kind_id=[this.$route.params.id]:-1!=this.$route.path.indexOf("/shop")&&(o.shop_id=[this.$route.params.id]),"1"==t?o.desc=[e]:"0"==t&&(o.asc=[e]),this.axios.post("/commodity/searchOrder",o).then((function(t){200==t.status&&(i.commodities=t.data.data.records,i.total=t.data.data.total)})).catch((function(t){return alert(t)}))},changeButtonStyle:function(t){for(var e=document.querySelectorAll("a.bt"),s=0;s<e.length;s++)t==s?e[s].classList.add("curr"):e[s].classList.remove("curr")},updateCommodity:function(t){this.item=t,this.form=Object.assign({},t),this.dialogVisible=!0},dialogHide:function(){this.dialogVisible=!1},update:function(t){this.item=t}}},f=g,m=(s("27aa"),s("2877")),u=Object(m["a"])(f,i,o,!1,null,"2200223c",null);e["default"]=u.exports},cc45:function(t,e,s){t.exports=s.p+"img/2-4.a5265d51.jpg"},cdc7:function(t,e,s){t.exports=s.p+"img/1-9.6bc07b2b.jpg"},cdd8:function(t,e,s){t.exports=s.p+"img/img2.e1368b01.jpg"},d270:function(t,e,s){t.exports=s.p+"img/8-18.2caa6549.jpg"},d3f0:function(t,e,s){t.exports=s.p+"img/41be8e5a-e18b-47e5-bfa5-2de4f7f60a80.e2350f0d.jpg"},d4fb:function(t,e,s){t.exports=s.p+"img/2-2.01d9e1ec.jpg"},d5fb:function(t,e,s){t.exports=s.p+"img/7-2.dfd25ee1.jpg"},d6d5:function(t,e,s){t.exports=s.p+"img/3-5.eb8b1f2c.jpg"},d868:function(t,e,s){t.exports=s.p+"img/8-17.fc7eb1b4.jpg"},d8c0:function(t,e,s){t.exports=s.p+"img/4-10.90cf4a8a.jpg"},d9d8:function(t,e,s){t.exports=s.p+"img/4-6.474c414a.jpg"},d9ed:function(t,e,s){t.exports=s.p+"img/4-2.054498f7.jpg"},dbe6:function(t,e,s){t.exports=s.p+"img/assetsa0a21820-9a62-4c87-842a-e047801c4b42.d09aa7a8.jpg"},dc4a:function(t,e,s){t.exports=s.p+"img/6-2.56e0d5ff.jpg"},dcb5:function(t,e,s){t.exports=s.p+"img/3-1.d51fd251.jpg"},de1a:function(t,e,s){t.exports=s.p+"img/2-11.4dacf4ad.jpg"},dfd8:function(t,e,s){t.exports=s.p+"img/1-10.52e4870a.jpg"},e041:function(t,e,s){t.exports=s.p+"img/img3.d0759c9e.jpg"},e369:function(t,e,s){t.exports=s.p+"img/7-10.e55b1f04.jpg"},e5ba:function(t,e,s){t.exports=s.p+"img/8-9.e1665df0.jpg"},e85f:function(t,e,s){t.exports=s.p+"img/8-14.536612a4.jpg"},e948:function(t,e,s){t.exports=s.p+"img/2-6.c4d9199e.jpg"},e95f:function(t,e,s){"use strict";s("a3bb")},eacb:function(t,e,s){t.exports=s.p+"img/1-5.43dcbc0a.jpg"},ee38:function(t,e,s){t.exports=s.p+"img/2-9.0dd2d5ae.jpg"},ef32:function(t,e,s){t.exports=s.p+"img/8-7.eaa76f6a.jpg"},f3fa:function(t,e,s){t.exports=s.p+"img/6-7.839c5948.jpg"},f53b:function(t,e,s){t.exports=s.p+"img/2-7.27c663fe.jpg"},f70b:function(t,e,s){t.exports=s.p+"img/3-10.a01078c6.jpg"},f9ed:function(t,e,s){t.exports=s.p+"img/8-13.2077992d.jpg"},fb91:function(t,e,s){t.exports=s.p+"img/8-4.92f9cf16.jpg"},fe6c:function(t,e,s){t.exports=s.p+"img/8-19.22c82202.jpg"},ff3a:function(t,e,s){t.exports=s.p+"img/1-6.a1adf560.jpg"},ff73:function(t,e,s){t.exports=s.p+"img/8-28.0e3a70ae.jpg"}}]);