(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7facc850"],{"0e77":function(e,t,s){"use strict";s("a5d1")},2124:function(e,t,s){"use strict";s("c8af7")},2241:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"Logo"},[s("router-link",{attrs:{to:"/"}})],1)},a=[],i={name:"Logo",components:{}},n=i,o=(s("0e77"),s("2877")),c=Object(o["a"])(n,r,a,!1,null,"ad3934a0",null);t["a"]=c.exports},"3f28":function(e,t,s){"use strict";s("e0c6")},"444a":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("div",[s("Navigation"),s("div",{staticClass:"row"},[s("Logo"),s("p",[e._v("欢迎登录")])],1)],1),s("form",[s("div",{staticClass:"lable"},[e._m(0),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.name,expression:"name",modifiers:{trim:!0}}],attrs:{id:"name",name:"name",type:"text",placeholder:"用户名"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),s("div",{staticClass:"lable"},[e._m(1),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.password,expression:"password",modifiers:{trim:!0}}],attrs:{id:"password",type:"password",placeholder:"密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),s("div",{staticClass:"identity"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.identity,expression:"identity"}],attrs:{type:"radio",id:"user",name:"identity",value:"user"},domProps:{checked:e._q(e.identity,"user")},on:{change:function(t){e.identity="user"}}}),s("label",{attrs:{for:"user"}},[e._v("用户")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.identity,expression:"identity"}],attrs:{type:"radio",id:"merchant",name:"identity",value:"sell"},domProps:{checked:e._q(e.identity,"sell")},on:{change:function(t){e.identity="sell"}}}),s("label",{attrs:{for:"merchant"}},[e._v("商家")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.identity,expression:"identity"}],attrs:{type:"radio",id:"admin",name:"identity",value:"admin"},domProps:{checked:e._q(e.identity,"admin")},on:{change:function(t){e.identity="admin"}}}),s("label",{attrs:{for:"admin"}},[e._v("管理员")])]),s("div",{staticClass:"submit"},[s("input",{staticClass:"submit",attrs:{type:"submit",value:"登录"},on:{click:function(t){return t.preventDefault(),e.login(t)}}}),s("router-link",{staticClass:"toRegister",attrs:{to:"/register"}},[e._v("立即注册")])],1)])])},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{attrs:{for:"name"}},[s("i",{staticClass:"el-icon-user-solid"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{attrs:{for:"password"}},[s("i",{staticClass:"el-icon-lock"})])}],i=(s("8e6e"),s("ac6a"),s("456d"),s("a481"),s("7f7f"),s("ade3")),n=s("f4dd"),o=s("2f62"),c=s("2241");function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function u(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var d={name:"UserLogin",data:function(){return{name:"",password:"",identity:"user"}},components:{Navigation:n["a"],Logo:c["a"]},computed:u({},Object(o["e"])("user",{user:"user",sell:"sell",admin:"admin"})),methods:u(u({login:function(){var e=this;this.checkForm()&&this.axios.post(this.identity+"/login",{name:this.name,password:this.password}).then((function(t){if(0==t.data.code)if(e.name="",e.password="","user"==e.identity)if(e.saveUser(t.data.data),sessionStorage.setItem("user",JSON.stringify(e.user)),e.$message({message:"登录成功！",type:"success"}),e.$route.query.redirect){var s=e.$route.query.redirect;e.$router.replace(s)}else e.$router.replace("/home");else if("sell"==e.identity)if(e.saveSell(t.data.data),sessionStorage.setItem("sell",JSON.stringify(e.sell)),e.$message({message:"登录成功！",type:"success"}),e.$route.query.redirect){var r=e.$route.query.redirect;e.$router.replace(r)}else e.$router.replace("/shop/shopId/"+e.sell.id);else e.saveAdmin(t.data.data),sessionStorage.setItem("admin",JSON.stringify(e.admin)),e.$message({message:"登录成功！",type:"success"}),e.$router.replace("/admin");else e.$message({message:t.data.msg,type:"error"})})).catch((function(e){alert(e.message)}))}},Object(o["d"])("user",["saveUser","saveSell","saveAdmin"])),{},{checkForm:function(){return!(!this.name||!this.password)||(this.$message("用户名和密码不能为空"),!1)}})},m=d,p=(s("2124"),s("2877")),f=Object(p["a"])(m,r,a,!1,null,"5c695a0e",null);t["default"]=f.exports},a5d1:function(e,t,s){},c8af7:function(e,t,s){},e0c6:function(e,t,s){},f4dd:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"navigation"},[s("ul",{staticStyle:{"list-style":"none"}},[e._m(0),e.user?s("li",{staticClass:"exit"},[s("span",{staticClass:"loginSpan"},[e._v("欢迎您，"+e._s(e.user.name)+"！"),s("a",{attrs:{href:"javascript:;"},on:{click:e.exit}},[e._v("退出登录")])])]):s("li",{staticClass:"login"},[s("span",{staticClass:"loginSpan"},[s("router-link",{staticClass:"loginlink",attrs:{to:"/login"}},[e._v("你好，请登录！ ")]),s("router-link",{staticClass:"loginlink",attrs:{to:"/register"}},[s("span",[e._v("免费注册")])])],1)]),s("li",{staticClass:"cart"},[s("router-link",{attrs:{to:"/cart"}},[s("span",[e._v(" 购物车"),s("i",{staticClass:"el-icon-shopping-cart-full"})])])],1),s("li",{staticClass:"mydingdan"},[s("router-link",{attrs:{to:"/order"}},[e._v("我的订单"),s("i",{staticClass:"el-icon-tickets"})])],1),s("li",{staticClass:"myqianbao"},[s("router-link",{attrs:{to:"/account"}},[e._v("我的钱包"),s("i",{staticClass:"el-icon-s-finance"})])],1)])])},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticStyle:{float:"left","margin-left":"-100px"}},[s("a",[s("i",{staticClass:"el-icon-location-outline"}),s("span",[e._v("佛山市")])])])}],i=(s("8e6e"),s("ac6a"),s("456d"),s("ade3")),n=s("2f62");function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var l={name:"Navigation",computed:c({},Object(n["e"])("user",{user:"user"})),methods:c({exit:function(){this.deleteUser(),sessionStorage.removeItem("user")}},Object(n["d"])("user",["deleteUser"]))},u=l,d=(s("3f28"),s("2877")),m=Object(d["a"])(u,r,a,!1,null,"a074e870",null);t["a"]=m.exports}}]);